---
type: service_template
subtype: container
name: node-build
description: This is the template for building Node component.
container:
  resources:
    mem_mib: 1024
    cpu_cores: 0.3
  image: "get.applatix.io/prod/axbuild2:latest"
  docker_options: ""
  command: "sh -c 'cd /src && docker login -u dinardalvi -p %%password%% &&  docker build -t dinardalvi/node-app . && docker push dinardalvi/node-app:latest'"
inputs:
  artifacts:
  - from: "%%code%%"
    path: "/src"
  parameters:
    password:
      default: "enter pwd"
    commit:
      default: "%%session.commit%%"
    code:
outputs:
  artifacts:
    binary:
      path: "/src"
labels:
    "ax_ea_docker_enable": '{ "graph-storage-name": "axbuildstorage", "graph-storage-size": "25Gi", "cpu_cores":"0.9", "mem_mib":"900"}'
